# 1.2.2 因特网的核心部分

* 网络核心部分是因特网中最复杂的部分。

* 网络中的核心部分要向网络边缘中的大量主机**提供连通性**，使边缘部分中的任何一个主机都能够向其他主机通信（即传送或接收各种形式的数据）。

- 因特网的核心部分是由许多网络和把它们互连起来的路由器组成，而主机处在因特网的边缘部分。

- 在因特网核心部分的路由器之间一般都用高速链路相连接，而在网络边缘的主机接入到核心部分则通常以相对较低速率的链路相连接。

- 主机的用途是为用户进行信息处理的，并且可以和其他主机通过网络交换信息。路由器的用途则是用来转发分组的，即进行分组交换的。

* 在网络核心部分起特殊作用的是**路由器**\(router\)。

* 路由器是实现**分组交换**\(packet switching\)的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。
![](/assets/图片19.png)
![](/assets/图片20.png)

## 路由器的重要任务

* 路由器是实现**分组交换**\(packet switching\)的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。

#### 1. 电路交换的主要特点

* 两部电话机只需要用一对电线就能够互相连接起来。![](/assets/图片10.png)

* 5 部电话机两两相连，需 10 对电线。
  ![](/assets/图片11.png)

* N 部电话机两两相连，需 N\(N – 1\)\/2 对电线。

* 当电话机的数量很大时，这种连接方法需要的电线对的数量与电话机数的平方成正比。

* 当电话机的数量增多时，就要使用**交换机**来完成全网的交换任务
  ![](/assets/图片12.png)
```
    “交换”的含义

 1. 在这里，“交换”(switching)的含义就是转接——把一条电话线转接到另一条电话线，使它们连通起来。

 2. 从通信资源的分配角度来看，“交换”就是按照某种方式动态地分配传输线路的资源。
```
* 电路交换的特点
  * 电路交换必定是面向连接的
  * 电路交换的三个阶段
    * 建立连接
    * 通信
    * 释放连接


* 电路交换举例

  * A 和 B 通话经过四个交换机
  * 通话在 A 到 B 的连接上进行
  * C 和 D 通话只经过一个本地交换机
  * 通话在 C 到 D 的连接上进行
    ![](/assets/图片13.png)
    ![](/assets/图片14.png)

* 电路交换传送计算机数据效率低

  * 计算机数据具有突发性。    
  * 这导致通信线路的利用率很低。


#### 2. 分组交换的主要特点

* 在发送端，先把较长的报文**划分成较短的、固定长度的数据段** 
  ![](/assets/图片15.png)
* 每一个数据段前面添加上**首部**构成分组。
  ![](/assets/图片16.png)
* **分组**交换网以“分组”作为数据传输单元。
* 依次把各分组发送到接收端（假定接收端在左边）。
  ![](/assets/图片17.png)
* **每一个**分组的首部都含有**地址**等控制信息。
* 分组交换网中的结点交换机根据收到的分组的首部中的**地址信息**，把分组转发到下一个结点交换机。
* 用这样的**存储转发**方式，最后分组就能到达**最终目的地**。
* 接收端收到分组后剥去首部还原成报文。
![](/assets/图片17.png)
* 最后，在接收端把收到的数据恢复成为原来的报文。
![](/assets/图片18.png)
- 这里我们假定分组在传输过程中没有出现差错，在转发时也没有被丢弃。
