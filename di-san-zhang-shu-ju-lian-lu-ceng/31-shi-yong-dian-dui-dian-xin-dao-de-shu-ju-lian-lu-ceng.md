### 3.2 使用点对点信道的数据链路层

### 3.2.1 点对点信道数据链路层通信主要步骤：

1. 发送方A数据链路层将网络层交下来的IP数据报添加首部和尾部**封装成帧**
2. 发送方A将封装好的帧发送给结点B的数据链路层
3. 接收方B收到的帧无措，则从帧中提取出IP数据报转给网络层；若有错，则丢弃该帧（如下图所示）

![](/assets/link layer P2P step.png)

### 3.2.2 数据链路层的三个基本问题

1. 封装成帧：在一段数据的前后分别添加首部和尾部，构成一个帧  
   1. 帧的首部和尾部一个重要作用是进行帧定界；

   1. 帧首和帧尾还包括许多必要的控制信息；

   2. 为提高帧传输效率，应使帧的数据部分尽可能大；

   3. 每一种链路层协议都规定了数据部分长度上限 --&gt; **MTU**；

   帧长 = 帧首部长 + 数据部分长 + 帧尾部长

   |  |
   | :--- |

|  |  |  |
| :--- | :--- | :--- |
|  |  |  |

1. 透明传输  
   当数据部分是非ASCⅡ文件时，若数据某字节恰好是SOH或EOT这种控制字符时，数据链路层就会错误地处理帧，这就是“不透明传输”，显然：如果数据部分某字节是SOH或EOT字符时也能正确传输，我们称之为**透明传输**；

   实现透明传输的方法è插入转义字符**ESC**（**00011011**）：

   **⑴、**若数据部分出现EOT或SOH时，就在这个EOT和SOH前插入ESC；接收方在送交网络层之前将这个ESC删除。

   **⑵、**用ESC ESC表示ESC。

   上述方法称之为“**字节填充**”或“**字符填充**”

2. 差错检测  
   1. 差错产生的原因和差错类型  
   2. CRC循环冗余编码工作原理  
   3. CRC具体做法  
   4. 特别注意以下问题



